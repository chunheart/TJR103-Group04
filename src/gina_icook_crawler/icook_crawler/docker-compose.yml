services:
  icook_crawler:
    build: .
    container_name: icook_crawler
    working_dir: /app
    restart: always
    volumes:
      - ./scheduler.py:/app/scheduler.py      # âœ… æ›è¼‰ï¼šä½¿ç”¨æœ¬æ©Ÿ scheduler.py
      - ./data:/app/data                      # ğŸ—‚ï¸ ä¿å­˜æ¯æ—¥ CSV / progress.json
      - ./logs:/app/logs                      # ğŸ§¾ ä¿å­˜é™¤éŒ¯ log
    command: >
      poetry run python scheduler.py
    networks:
      - kafka_kafka-net                       # âœ… Kafka Compose çš„å¯¦éš›ç¶²è·¯åç¨±

networks:
  kafka_kafka-net:
    external: true                            # âœ… ä½¿ç”¨ Kafka Compose å·²å­˜åœ¨çš„ç¶²è·¯

